/*
 * IrBase.cpp
 *
 *  Created on: Jan 11, 2021
 *      Author: ductu
 */
/***********************************************************************************************************************
* Pragma directive
***********************************************************************************************************************/

/***********************************************************************************************************************
* Includes <System Includes>
***********************************************************************************************************************/
#include "IrBlasterBase.h"
#include "IrBase.h"
/***********************************************************************************************************************
* Macro definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
* Typedef definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
* Private global variables and functions
***********************************************************************************************************************/

/***********************************************************************************************************************
* Exported global variables and functions (to be accessed by other files)
***********************************************************************************************************************/

/***********************************************************************************************************************
* Imported global variables and functions (from other files)
***********************************************************************************************************************/

/***********************************************************************************************************************
* Function Name: 
* Description  :
* Arguments    : none
* Return Value : none
***********************************************************************************************************************/
extern "C" void IrBase_Send(eProtocol_type type_remote, eCommand_type type_command, uint64_t data, uint8_t nbits, uint8_t repeat)
{
	IrBlasterBase irHandler;
	if (type_command == eCOMMAND_IR_NORMAL)
	{
		irHandler.SendCommand(type_remote, type_command, data, nbits, repeat);
	}
	else if(type_command == eCOMMAND_HAVC)
	{
		irHandler.SendHAVC(type_remote);
	}
	
	irHandler.~IrBlasterBase();
}

extern "C" void IrBase_SendRaw(uint16_t *data_raw, uint16_t length, uint16_t frequency, uint16_t dutycycle, uint8_t repeat)
{
	IrBlasterBase irHandler;

	irHandler.SendRaw(data_raw, length, frequency, dutycycle, repeat);

	irHandler.~IrBlasterBase();
}

/***********************************************************************************************************************
* Static Functions
***********************************************************************************************************************/

/***********************************************************************************************************************
* End of file
***********************************************************************************************************************/
