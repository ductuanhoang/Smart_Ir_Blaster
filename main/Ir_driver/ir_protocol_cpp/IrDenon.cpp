/*
 * IrDenon.cpp
 *
 *  Created on: Mar 9, 2021
 *      Author: ductu
 */
/***********************************************************************************************************************
 * Pragma directive
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * Includes <System Includes>
 ***********************************************************************************************************************/
#include "IrDenon.h"
#include "IrSharp.h"
#include "IrPanasonic.h"
/***********************************************************************************************************************
 * Macro definitions
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * Typedef definitions
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * Private global variables and functions
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * Exported global variables and functions (to be accessed by other files)
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * Imported global variables and functions (from other files)
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * Function Name: 
 * Description  :
 * Arguments    : none
 * Return Value : none
 ***********************************************************************************************************************/

Ir_Denon::Ir_Denon() {
	// TODO Auto-generated constructor stub

}

Ir_Denon::~Ir_Denon() {
	// TODO Auto-generated destructor stub
}

void Ir_Denon::sendDenon(uint64_t data, uint16_t nbits, uint16_t repeat)
{
	  if (nbits >= kPanasonicBits)  // Is this really Panasonic?
	  {
		  Ir_Panasonic _ir_pana_remote(38000, 50);
		  _ir_pana_remote.sendPanasonic64(data, nbits, repeat);
	  }
	  else if (nbits == kDenonLegacyBits)
	  {
		  Ir_Sharp _ir_sharp_remote(38000, 50);;
		  // Support legacy (broken) calls of sendDenon().
		  _ir_sharp_remote.sendSharpRaw(data & (~0x2000ULL), nbits + 1, repeat);
	  }
	  else
	  {
		  Ir_Sharp _ir_sharp_remote(38000, 50);;
		  _ir_sharp_remote.sendSharpRaw(data, nbits, repeat);
	  }
}
/***********************************************************************************************************************
 * Static Functions
 ***********************************************************************************************************************/

/***********************************************************************************************************************
 * End of file
 ***********************************************************************************************************************/

